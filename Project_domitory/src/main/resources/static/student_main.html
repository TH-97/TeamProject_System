<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="student_main.css">
    
    <style>


    </style>


</head>

<body>
    <header><iframe src="student_mainheader.html" width="100%"; height="200px"; style="border: none;"></iframe></header>
 
        <div class="outer">
            <div class="inner-list">
              <div class="inner">
                <img src="img/bn1.jpg" alt="">
              </div>
              <div class="inner">
                <img src="img/bn2.jpg" alt="">
              </div>
              <div class="inner">
                <img src="img/bn3.jpg" alt="">
              </div>
            </div>
          
        
        </div>
    </div>


    <div class="contentboxwhole">
        <div class="contentbox">
            <div class="innercontentbox">
                <div class="content1">
                    <h3>공지사항</h3>
                    <br>
                    <hr>
                    <div>

                    </div>
                </div>
        
                <div class="content2">
                    <h3>건의사항</h3>
                    <br>
                    <hr>
                    <div>
                        
                    </div>
    
                </div>
            </div>
            

        </div>
    </div>

    <div class="contentbox">
        <div class="innercontentbox">
            <h3>시설안내</h3>
            <br>
            <hr>
            <div>
                안내 내용어쩌고
            </div>
        </div>
    </div>
    
    <div class="contentbox">
        <div class="modal">
            <div class="modal_body">
                <h2>모달창 제목</h2>
                <p>모달창 내용 </p>
                <button class="closeBtn">X</button>

            </div>
        </div>
        <button class="btn-open-modal">Modal열기</button>
    </div>

 


    <footer><iframe src="student_footer.html" width="100%" height="300px" style="border: none;"></iframe></footer>


    <script>
        /*  div사이즈 동적으로 */
        const outer = document.querySelector('.outer');
        const innerList = document.querySelector('.inner-list');
        const inners = document.querySelectorAll('.inner');
        let currentIndex = 0; // 현재 슬라이드 화면 인덱스

        inners.forEach((inner) => {
        inner.style.width = `${outer.clientWidth}px`; // inner의 width를 모두 outer의 width로 만들기
        })

        innerList.style.width = `${outer.clientWidth * inners.length}px`; // innerList의 width를 inner의 width * inner의 개수로 만들기

        /*
        버튼에 이벤트 등록하기
        */
        const buttonLeft = document.querySelector('.button-left');
        const buttonRight = document.querySelector('.button-right');

        buttonLeft.addEventListener('click', () => {
        currentIndex--;
        currentIndex = currentIndex < 0 ? 0 : currentIndex; // index값이 0보다 작아질 경우 0으로 변경
        innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`; // index만큼 margin을 주어 옆으로 밀기
        clearInterval(interval); // 기존 동작되던 interval 제거
        interval = getInterval(); // 새로운 interval 등록
        });

        buttonRight.addEventListener('click', () => {
        currentIndex++;
        currentIndex = currentIndex >= inners.length ? inners.length - 1 : currentIndex; // index값이 inner의 총 개수보다 많아질 경우 마지막 인덱스값으로 변경
        innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`; // index만큼 margin을 주어 옆으로 밀기
        clearInterval(interval); // 기존 동작되던 interval 제거
        interval = getInterval(); // 새로운 interval 등록
        });

        /*
        주기적으로 화면 넘기기
        */
        const getInterval = () => {
        return setInterval(() => {
            currentIndex++;
            currentIndex = currentIndex >= inners.length ? 0 : currentIndex;
            innerList.style.marginLeft = `-${outer.clientWidth * currentIndex}px`;
        }, 2000);
        }

        let interval = getInterval(); // interval 등록

        const modal = document.querySelector('.modal');
        const btnOpenModal= document.querySelector('.btn-open-modal');
        const btnCloseModal= document.querySelector('.closeBtn');

        btnOpenModal.addEventListener("click", ()=>{
            modal.style.display="flex";
        });
        btnCloseModal.addEventListener("click", ()=>{
            modal.style.display="none";
        })

    </script>
</body>
</html>